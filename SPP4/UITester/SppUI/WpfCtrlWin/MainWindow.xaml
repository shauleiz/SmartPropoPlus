<Window x:Class="CtrlWindowNS.CtrlWindow"
    xmlns:local="clr-namespace:CtrlWindowNS"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:sdk="http://schemas.microsoft.com/winfx/2006/xaml/presentation/sdk"
    xmlns:control="clr-namespace:VUMeterControlLibrary;assembly=VUMeterControlLibrary"
    xmlns:sys="clr-namespace:System;assembly=mscorlib"
        	MouseLeftButtonDown="NonRectangularWindow_MouseLeftButtonDown"
            LocationChanged="LocChanged"
             mc:Ignorable="d" 
             SizeToContent="WidthAndHeight"
            WindowStyle="None"
    AllowsTransparency="True"
    Background="Transparent" d:DesignWidth="827.187" d:DesignHeight="898.923">
    <Window.Resources>
        <!--<sys:String x:Key="MyString">Hello</sys:String>-->
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="MainWinDic.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>



    <Grid x:Name="Top_GRID" HorizontalAlignment="Center" VerticalAlignment="Bottom" Height="206.841" Margin="435.062,0,19.062,424.374" Width="365.876">
        <Grid.Resources>
            <Style TargetType="TextBlock">
                <Setter Property="VerticalAlignment" Value="Center"/>
                <Setter Property="Margin" Value="3"/>
            </Style>
            <Style TargetType="TextBox">
                <Setter Property="VerticalAlignment" Value="Center"/>
                <Setter Property="Margin" Value="3"/>
            </Style>
            <Style TargetType="Button">
                <Setter Property="VerticalAlignment" Value="Center"/>
                <Setter Property="Margin" Value="3"/>
            </Style>
            <!--<Style TargetType="sdk:DatePicker">
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="3"/>
        </Style>-->

        </Grid.Resources>
        <Border x:Name="RootBorder"  BorderThickness="3"  CornerRadius="3" Margin="10" BorderBrush="{Binding ElementName=LayoutRoot, Path=IsMouseOver, Converter={StaticResource ColorConverter}}"  >
            <Grid x:Name="LayoutRoot" Margin="3,7,7,7"  >
                <Grid.Background>
                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                        <GradientStop Color="#FFDAEDEE" Offset="0.028"/>
                        <GradientStop Color="#FFADCFC1" Offset="1"/>
                    </LinearGradientBrush>
                </Grid.Background>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" MinHeight="23.96" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="21*"/>
                    <RowDefinition Height="76*"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="80"/>
                    <ColumnDefinition Width="195*"/>
                    <ColumnDefinition Width="64*"/>
                </Grid.ColumnDefinitions>


                <TextBlock Text="{StaticResource applicationTitle}" FontWeight="Bold"
                 HorizontalAlignment="Center" Grid.Column="1" Height="15.96" />

                <TextBlock Text="{StaticResource AudioLable}" Grid.Row="1" Height="15.96" Margin="3,4"/>
                <TextBlock Name="AudioChannel" Text="{Binding AudioChannel, Converter={StaticResource ChannelConverter}}" Grid.Row="2" Height="15.96" Margin="3,4"/>
                <TextBlock Name="AudioBitrate" Text="{Binding AudioBitrate, Converter={StaticResource BitrateConverter}}" Grid.Row="2" Grid.Column="1" Height="15.96" Margin="3,4,0,4" HorizontalAlignment="Left" />
                <TextBox Name="Nm_SelectedJack" Text="{Binding SelectedJack,   UpdateSourceTrigger=PropertyChanged}"
               Grid.Row="1" Grid.Column="1" Height="17.96" Background="{x:Null}" Grid.ColumnSpan="2"/>


                <Button Content="Lower" Click="Button_Click" Grid.Row="5" Grid.Column="1" HorizontalAlignment="Center"  Height="19.96"  Width="73.58"/>
                <CheckBox  Content="P1" x:Name="P1_Btn" Click="P1_Click" IsChecked="True" HorizontalAlignment="Left" Margin="15.938,31.927,0,0" Grid.Row="5" VerticalAlignment="Top" Width="45.375" Height="15.098"/>
                <CheckBox  Content="Audio" x:Name="Audio_Btn"  IsChecked="True" HorizontalAlignment="Left" Margin="15.938,2.966,0,0" Grid.Row="5" VerticalAlignment="Top" Width="52.375" Height="15.098"/>
            </Grid>
        </Border>
        <Grid HorizontalAlignment="Left" Name="P1_GRID" Height="186.84" Margin="-401.062,10,0,0" VerticalAlignment="Top" Width="160" Visibility="{Binding ElementName=P1_Btn, Path=IsChecked, Converter={StaticResource boolConverter}}">
            <Grid.Background>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="#3F5ACB19" Offset="0"/>
                    <GradientStop Color="#FFF71414" Offset="1"/>
                </LinearGradientBrush>
            </Grid.Background>
            <Label Content="This is P1" HorizontalAlignment="Left" Height="33" Margin="43,72,0,0" VerticalAlignment="Top" Width="77"/>
            <Border BorderThickness="1" HorizontalAlignment="Left" Height="213" Margin="-16.062,-15.08,-11.938,-11.08" VerticalAlignment="Top" Width="188" CornerRadius="4"  RenderTransformOrigin="2.665,0.441">
                <Border.BorderBrush>
                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                        <GradientStop Color="Black" Offset="0"/>
                        <GradientStop Color="#FFAC1313" Offset="1"/>
                    </LinearGradientBrush>
                </Border.BorderBrush>
            </Border>

        </Grid>
        <Border x:Name="AudioBorder" BorderThickness="1" HorizontalAlignment="Left" Margin="-192.7,0,-2.338,-278.563" VerticalAlignment="Bottom" CornerRadius="4" Height="270.218" Width="560.914"  Visibility="{Binding IsChecked, Converter={StaticResource boolConverter}, ElementName=Audio_Btn}">
            <Border.BorderBrush>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="Black" Offset="0"/>
                    <GradientStop Color="#FFAC1313" Offset="1"/>
                </LinearGradientBrush>
            </Border.BorderBrush>
            <Grid HorizontalAlignment="Left" x:Name="Audio_GRID" Height="250.218" VerticalAlignment="Top" Width="540.914" Margin="9,9,0,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="64*"/>
                    <RowDefinition Height="53*"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="67*" />
                    <ColumnDefinition Width="203*" />
                </Grid.ColumnDefinitions>
                <Grid.Background>
                    <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                        <GradientStop Color="#FF5CCB1C" Offset="0"/>
                        <GradientStop Color="#FF04DADA" Offset="1"/>
                    </LinearGradientBrush>
                </Grid.Background>
                <ListView x:Name="Audio_LB"  ItemsSource="{Binding AudioDeviceCollection}" SelectedItem="{Binding  SelectedAudioDevice, Mode=TwoWay}" Height="103.062" Margin="10,10,10,0" VerticalAlignment="Top"  MinWidth="10" Grid.ColumnSpan="2" RenderTransformOrigin="0.509,0.144">
                    <ListView.View>
                        <GridView AllowsColumnReorder="true">
                            <GridViewColumn Header="Jack"  Width="30">
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <Grid>
                                            <Ellipse VerticalAlignment="Center" HorizontalAlignment="Center" Width="10" Height="10" Fill="white" Stroke="black"  StrokeThickness="0.5"/>
                                            <Ellipse VerticalAlignment="Center" HorizontalAlignment="Center" Width="8" Height="8" Fill="{Binding Fill}"  StrokeThickness="0.5"/>
                                            <Ellipse VerticalAlignment="Center" HorizontalAlignment="Center" Width="4" Height="4" Fill="Black"  Stroke="white"  StrokeThickness="0.5"/>
                                        </Grid>
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                            <GridViewColumn Header="L Levels" DisplayMemberBinding="{Binding LevelLeft}" Width="60"/>
                            <GridViewColumn Header="R Levels" DisplayMemberBinding="{Binding LevelRight}" Width="60"/>
                            <GridViewColumn Header="Device" DisplayMemberBinding="{Binding DeviceName}"  />
                        </GridView>
                    </ListView.View>
                </ListView>
                <GroupBox HorizontalAlignment="Left" VerticalAlignment="Top" Header="Bit Rate" Margin="10,0,0,0" Height="103.347" Grid.Row="1" Width="101.206">
                    <StackPanel Margin="0,0,0,4.803">
                        <CheckBox Content="Auto" Padding="4,-1,0,10" IsChecked="{Binding IsNotAutoBitrate, Converter={StaticResource InvConverter}}" Checked="Audio_CheckBox_Click" Unchecked="Audio_CheckBox_Click"/>
                        <RadioButton Name="EightBitRB" Content="8 bit" IsEnabled="{Binding IsNotAutoBitrate}" IsChecked="{Binding AudioBitrate, Converter={StaticResource Bitrate8Converter}}" RenderTransformOrigin="1.513,0.592" Margin="32.214,0,10,0" VerticalContentAlignment="Center" Checked="Audio_RB_Checked"/>
                        <RadioButton Name="SixteenBitRB" Content="16 bit" IsEnabled="{Binding IsNotAutoBitrate}"  IsChecked="{Binding AudioBitrate, Converter={StaticResource Bitrate16Converter}}" HorizontalAlignment="Left" Width="66.992" VerticalContentAlignment="Center" Margin="32.214,0,-10,0"  Checked="Audio_RB_Checked"/>
                    </StackPanel>
                </GroupBox>
                <GroupBox Grid.Column="1" Header="Audio Channel" HorizontalAlignment="Left" Margin="10,0,0,0" Grid.Row="1" VerticalAlignment="Top" Height="103.347" Width="115.459">
                    <StackPanel Margin="0,0,14.253,4.803">
                        <CheckBox Content="Auto" Padding="4,-1,0,10" IsChecked="{Binding IsNotAutoChannel, Converter={StaticResource ResourceKey=InvConverter}}"   Checked="Audio_CheckBox_Click" Unchecked="Audio_CheckBox_Click" />
                        <RadioButton Name="LeftRB" Content="Left" IsEnabled="{Binding IsNotAutoChannel}" IsChecked="{Binding AudioChannel, Converter={StaticResource ResourceKey=ChannelLeftConverter}}" RenderTransformOrigin="1.513,0.592" Margin="32.214,0,10,0" VerticalContentAlignment="Center"  Checked="Audio_RB_Checked"/>
                        <RadioButton Name="RightRB" Content="Right" IsEnabled="{Binding IsNotAutoChannel}"  IsChecked="{Binding AudioChannel, Converter={StaticResource ChannelRightConverter}}" HorizontalAlignment="Left" Width="66.992" VerticalContentAlignment="Center" Margin="32.214,0,-10,0"  Checked="Audio_RB_Checked"/>
                        <RadioButton Name="MonoRB" Content="Mono" IsEnabled="{Binding IsNotAutoChannel}"  IsChecked="{Binding AudioChannel, Converter={StaticResource ChannelMonoConverter}}" HorizontalAlignment="Left" Width="66.992" VerticalContentAlignment="Center" Margin="32.214,0,-10,0"  Checked="Audio_RB_Checked"/>
                    </StackPanel>
                </GroupBox>
                <control:VUMeterControl  x:Name="vuMeterControl_Left" MaxValue="100" Value="{Binding SelectedAudioDevice.LevelLeft}" HorizontalAlignment="Center" VerticalAlignment="Top" Background="LightGray"  BlockCount="20" HighLevel="10" MiddleLevel="5"  RenderTransformOrigin="0.898,0.497"  Width="13.423" Grid.Column="1" Margin="160.332,21.871,233.245,0" Grid.Row="1" Height="81.129">
                    <control:VUMeterControl.RenderTransform>
                        <TransformGroup>
                            <ScaleTransform/>
                            <SkewTransform/>
                            <RotateTransform Angle="0"/>
                            <TranslateTransform/>
                        </TransformGroup>
                    </control:VUMeterControl.RenderTransform>
                </control:VUMeterControl>
                <control:VUMeterControl  x:Name="vuMeterControl_Right" HorizontalAlignment="Center" VerticalAlignment="Top" Background="LightGray" MaxValue="100" BlockCount="20" HighLevel="10" MiddleLevel="5"  RenderTransformOrigin="0.898,0.497"  Width="13.423" Grid.Column="1" Margin="280.504,42.629,113.073,-9.629" Grid.Row="1">
                    <control:VUMeterControl.RenderTransform>
                        <TransformGroup>
                            <ScaleTransform/>
                            <SkewTransform/>
                            <RotateTransform Angle="90"/>
                            <TranslateTransform/>
                        </TransformGroup>
                    </control:VUMeterControl.RenderTransform>
                </control:VUMeterControl>
                <TextBox Grid.Column="1" HorizontalAlignment="Left" Height="16.871" Margin="153.5,0,0,0" Grid.Row="1" TextWrapping="Wrap"  Text="{Binding Path=SelectedAudioDevice.LevelLeft}" VerticalAlignment="Top" Width="27"/>
            </Grid>
        </Border>
    </Grid>
</Window>
